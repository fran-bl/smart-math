.xpCounter i {
  filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.35));
}

.xpNumber {
  display: inline-block;
  transform-origin: center;
  animation: xp-pulse 620ms cubic-bezier(0.2, 0.9, 0.2, 1);
}

.burstLayer {
  position: absolute;
  right: 0;
  top: 0;
  pointer-events: none;
}

.burst {
  position: absolute;
  right: 0;
  top: -8px;
  transform: translate(var(--dx, 0px), 0px);
  animation: xp-pop 950ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.burstText {
  position: relative;
  z-index: 2;
  display: inline-block;
  padding: 3px 8px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 900;
  letter-spacing: 0.2px;
  color: rgb(255 255 255);
  background: linear-gradient(135deg, rgb(34 197 94), rgb(16 185 129));
  box-shadow:
    0 10px 22px rgba(16, 185, 129, 0.35),
    0 2px 0 rgba(0, 0, 0, 0.08);
  animation: burst-wiggle 950ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.burstText::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid rgba(34, 197, 94, 0.9);
  transform: translate(-50%, -50%) scale(0.7);
  opacity: 0;
  filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.45));
  animation: shockwave 950ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  pointer-events: none;
}

.spark {
  position: absolute;
  left: 50%;
  top: 50%;
  width: var(--s, 7px);
  height: var(--s, 7px);
  border-radius: 999px;
  background: radial-gradient(circle, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0));
  opacity: 0;
  transform: translate(-50%, -50%) rotate(var(--a, 0deg)) translateY(0px) scale(0.7);
  filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.35));
  animation: spark 1000ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes xp-pulse {
  0% {
    transform: scale(1);
    filter: brightness(1);
  }

  30% {
    transform: scale(1.35) rotate(-2deg);
    filter: brightness(1.12);
  }

  60% {
    transform: scale(0.96) rotate(1deg);
  }

  100% {
    transform: scale(1);
    filter: brightness(1);
  }
}

@keyframes xp-pop {
  0% {
    opacity: 0;
    transform: translate(var(--dx, 0px), 12px) scale(0.88) rotate(-6deg);
    filter: blur(0.25px);
  }

  10% {
    opacity: 1;
    transform: translate(var(--dx, 0px), 0px) scale(1.02) rotate(0deg);
    filter: blur(0px);
  }

  100% {
    opacity: 0;
    transform: translate(var(--dx, 0px), -34px) scale(1.08) rotate(4deg);
  }
}

@keyframes burst-wiggle {
  0% {
    transform: scale(0.96) rotate(-8deg);
  }

  18% {
    transform: scale(1.08) rotate(6deg);
  }

  45% {
    transform: scale(1.02) rotate(-4deg);
  }

  100% {
    transform: scale(1) rotate(0deg);
  }
}

@keyframes shockwave {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.6);
  }

  12% {
    opacity: 0.9;
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(3.2);
  }
}

@keyframes spark {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--a, 0deg)) translateY(0px) scale(0.65);
  }

  18% {
    opacity: 1;
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(var(--a, 0deg)) translateY(calc(-1 * var(--d, 22px))) scale(1.08);
  }
}